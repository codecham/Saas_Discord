/**
 * Codes d'erreur Discord
 * Documentation: https://discord.com/developers/docs/topics/opcodes-and-status-codes#json
 */

export const DISCORD_ERROR_CODES = {
  // Erreurs générales
  GENERAL_ERROR: 0,
  UNKNOWN_ACCOUNT: 10001,
  UNKNOWN_APPLICATION: 10002,
  UNKNOWN_CHANNEL: 10003,
  UNKNOWN_GUILD: 10004,
  UNKNOWN_INTEGRATION: 10005,
  UNKNOWN_INVITE: 10006,
  UNKNOWN_MEMBER: 10007,
  UNKNOWN_MESSAGE: 10008,
  UNKNOWN_PERMISSION_OVERWRITE: 10009,
  UNKNOWN_PROVIDER: 10010,
  UNKNOWN_ROLE: 10011,
  UNKNOWN_TOKEN: 10012,
  UNKNOWN_USER: 10013,
  UNKNOWN_EMOJI: 10014,
  UNKNOWN_WEBHOOK: 10015,
  UNKNOWN_BAN: 10026,
  UNKNOWN_SKU: 10027,
  UNKNOWN_STORE_LISTING: 10028,
  UNKNOWN_ENTITLEMENT: 10029,
  UNKNOWN_BUILD: 10030,
  UNKNOWN_LOBBY: 10031,
  UNKNOWN_BRANCH: 10032,
  UNKNOWN_STORE_DIRECTORY_LAYOUT: 10033,
  UNKNOWN_REDISTRIBUTABLE: 10036,
  UNKNOWN_GIFT_CODE: 10038,
  UNKNOWN_GUILD_TEMPLATE: 10057,
  UNKNOWN_INTERACTION: 10062,
  UNKNOWN_COMMAND: 10063,
  UNKNOWN_COMMAND_PERMISSIONS: 10066,
  UNKNOWN_STAGE_INSTANCE: 10067,
  UNKNOWN_GUILD_MEMBER_VERIFICATION_FORM: 10068,
  UNKNOWN_GUILD_WELCOME_SCREEN: 10069,
  UNKNOWN_GUILD_SCHEDULED_EVENT: 10070,
  UNKNOWN_GUILD_SCHEDULED_EVENT_USER: 10071,

  // Erreurs de bot
  BOTS_CANNOT_USE_ENDPOINT: 20001,
  ONLY_BOTS_CAN_USE_ENDPOINT: 20002,

  // Erreurs de limites
  MAXIMUM_GUILDS: 30001,
  MAXIMUM_FRIENDS: 30002,
  MAXIMUM_PINS: 30003,
  MAXIMUM_RECIPIENTS: 30004,
  MAXIMUM_ROLES: 30005,
  MAXIMUM_WEBHOOKS: 30007,
  MAXIMUM_EMOJIS: 30008,
  MAXIMUM_REACTIONS: 30010,
  MAXIMUM_CHANNELS: 30013,
  MAXIMUM_ATTACHMENTS: 30015,
  MAXIMUM_INVITES: 30016,
  MAXIMUM_ANIMATED_EMOJIS: 30018,
  MAXIMUM_SERVER_MEMBERS: 30019,

  // Erreurs d'autorisation
  UNAUTHORIZED: 40001,
  ACCOUNT_VERIFICATION_REQUIRED: 40002,
  RATE_LIMITED: 40003,
  INVALID_OAUTH_STATE: 40006,
  MISSING_PERMISSIONS: 50001,
  INVALID_AUTHENTICATION_TOKEN: 50014,
  NOTE_TOO_LONG: 50015,
  INVALID_BULK_DELETE_QUANTITY: 50016,
  INVALID_MESSAGE_PIN_CHANNEL: 50019,
  INVALID_INVITE_CODE: 50020,
  CANNOT_EXECUTE_ON_SYSTEM_MESSAGE: 50021,
  CANNOT_EXECUTE_ON_CHANNEL_TYPE: 50024,
  INVALID_OAUTH_ACCESS_TOKEN: 50025,
  MISSING_REQUIRED_OAUTH_SCOPE: 50026,
  INVALID_WEBHOOK_TOKEN: 50027,
  INVALID_ROLE: 50028,
  INVALID_RECIPIENTS: 50033,
  INVALID_MESSAGE_BULK_DELETE_AGE: 50034,
  INVALID_FORM_BODY: 50035,
  INVITE_ACCEPTED_TO_GUILD_NOT_CONTAINING_BOT: 50036,
  INVALID_API_VERSION: 50041,
  FILE_EXCEEDS_MAXIMUM_SIZE: 50045,
  INVALID_FILE_UPLOADED: 50046,

  // Erreurs de réaction
  REACTION_BLOCKED: 90001,

  // Erreurs de serveur
  RESOURCE_OVERLOADED: 130000,
} as const;

export type DiscordErrorCode =
  (typeof DISCORD_ERROR_CODES)[keyof typeof DISCORD_ERROR_CODES];

/**
 * Map les codes d'erreur Discord vers des codes HTTP appropriés
 */
export const DISCORD_ERROR_TO_HTTP_STATUS: Record<number, number> = {
  [DISCORD_ERROR_CODES.UNKNOWN_ACCOUNT]: 404,
  [DISCORD_ERROR_CODES.UNKNOWN_CHANNEL]: 404,
  [DISCORD_ERROR_CODES.UNKNOWN_GUILD]: 404,
  [DISCORD_ERROR_CODES.UNKNOWN_MESSAGE]: 404,
  [DISCORD_ERROR_CODES.UNKNOWN_USER]: 404,
  [DISCORD_ERROR_CODES.UNKNOWN_ROLE]: 404,
  [DISCORD_ERROR_CODES.UNKNOWN_WEBHOOK]: 404,
  [DISCORD_ERROR_CODES.UNAUTHORIZED]: 401,
  [DISCORD_ERROR_CODES.MISSING_PERMISSIONS]: 403,
  [DISCORD_ERROR_CODES.INVALID_AUTHENTICATION_TOKEN]: 401,
  [DISCORD_ERROR_CODES.RATE_LIMITED]: 429,
  [DISCORD_ERROR_CODES.INVALID_FORM_BODY]: 400,
  [DISCORD_ERROR_CODES.FILE_EXCEEDS_MAXIMUM_SIZE]: 413,
  [DISCORD_ERROR_CODES.RESOURCE_OVERLOADED]: 503,
};
